"use strict";(self.webpackChunkquikk1=self.webpackChunkquikk1||[]).push([[885],{885:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var r=a(555),l=a(43),o=a(513),s=a(41),n=a(579);const i=e=>{let{onClose:t}=e;const{addHistory:a}=(0,s.W)(),[i,d]=(0,l.useState)(!1),[c,x]=(0,l.useState)(""),[m,u]=(0,l.useState)({valor:0,prazo:""}),{cart:p,total:b,clearCart:g}=(0,o._)(),[h,f]=(0,l.useState)(!1),[v,j]=(0,l.useState)(""),[N,y]=(0,l.useState)(1),[C,w]=(0,l.useState)({nome:"",numero:"",validade:"",cvv:""}),[S,k]=(0,l.useState)({cpf:"",nome:""}),q=b*(1-("pix"===v?.1:0))+m.valor,A="cartao"===v?q/N:q;return h?(0,n.jsxs)("div",{className:"p-8 max-w-md mx-auto bg-white rounded-2xl shadow-2xl text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"Compra finalizada!"}),(0,n.jsx)("p",{className:"text-gray-700 mb-2",children:"Obrigado por comprar na GilStore."}),(0,n.jsx)("span",{className:"text-lg font-bold text-blue-700",children:"Seu pedido est\xe1 sendo processado."})]}):(0,n.jsxs)("div",{className:"p-8 max-w-md mx-auto bg-white rounded-2xl shadow-2xl",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-6 text-blue-700 text-center",children:"Finalizar Compra"}),(0,n.jsx)("ul",{className:"mb-4",children:p.map(e=>(0,n.jsxs)("li",{className:"flex justify-between mb-2",children:[(0,n.jsxs)("span",{children:[e.product.title," x",e.quantity]}),(0,n.jsxs)("span",{className:"font-bold text-blue-700",children:["R$ ",(e.product.price*e.quantity).toFixed(2)]})]},e.product.id))}),(0,n.jsxs)("div",{className:"mb-2 text-right text-xl font-bold text-blue-700",children:["Total: R$ ",b.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),"pix"===v&&(0,n.jsxs)("div",{className:"mb-2 text-right text-green-600 font-bold",children:["Desconto Pix: -10% (R$ ",(.1*b).toLocaleString("pt-BR",{minimumFractionDigits:2}),")"]}),m.prazo&&(0,n.jsxs)("div",{className:"mb-2 text-right text-green-700 font-bold",children:["Frete: ",0===m.valor?"Gr\xe1tis":"R$ ".concat(m.valor.toLocaleString("pt-BR",{minimumFractionDigits:2}))," | Prazo: ",m.prazo]}),(0,n.jsxs)("div",{className:"mb-4 text-right text-xl font-bold text-blue-900",children:["Valor final: R$ ",q.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),"cartao"===v&&(0,n.jsxs)("div",{className:"mb-2 text-right text-blue-700 font-semibold",children:["Parcelamento: ",N,"x de R$ ",A.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d(!0)},className:"flex flex-col gap-4 mt-4",children:[(0,n.jsx)("label",{className:"font-bold text-gray-700",children:"Simule o frete:"}),(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)("input",{type:"text",placeholder:"Digite seu CEP",value:c,onChange:e=>x(e.target.value),className:"border rounded px-2 py-1 w-32",maxLength:9}),(0,n.jsx)("button",{type:"button",className:"bg-blue-500 text-white px-3 py-1 rounded",onClick:()=>(e=>{let t=25,a="5 dias \xfateis";/^\d{5}-?\d{3}$/.test(e)&&(q>=200?(t=0,a="3 dias \xfateis"):e.startsWith("01")&&(t=15,a="2 dias \xfateis")),u({valor:t,prazo:a})})(c),children:"Calcular"})]}),m.prazo&&(0,n.jsxs)("div",{className:"text-green-700 font-bold",children:["Frete: ",0===m.valor?"Gr\xe1tis":"R$ ".concat(m.valor.toLocaleString("pt-BR",{minimumFractionDigits:2}))," | Prazo: ",m.prazo]}),(0,n.jsx)("label",{className:"font-bold text-gray-700",children:"Escolha a forma de pagamento:"}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("button",{type:"button",className:"px-4 py-2 rounded font-bold border ".concat("pix"===v?"bg-green-100 border-green-500":"bg-gray-100 border-gray-300"),onClick:()=>j("pix"),children:"Pix (-10%)"}),(0,n.jsx)("button",{type:"button",className:"px-4 py-2 rounded font-bold border ".concat("cartao"===v?"bg-blue-100 border-blue-500":"bg-gray-100 border-gray-300"),onClick:()=>j("cartao"),children:"Cart\xe3o de Cr\xe9dito"})]}),"cartao"===v&&(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("label",{className:"font-semibold",children:"Dados do Cart\xe3o"}),(0,n.jsx)("input",{required:!0,type:"text",placeholder:"Nome no cart\xe3o",value:C.nome,onChange:e=>w((0,r.A)((0,r.A)({},C),{},{nome:e.target.value})),className:"border rounded px-2 py-1"}),(0,n.jsx)("input",{required:!0,type:"text",placeholder:"N\xfamero do cart\xe3o",value:C.numero,onChange:e=>w((0,r.A)((0,r.A)({},C),{},{numero:e.target.value})),className:"border rounded px-2 py-1"}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{required:!0,type:"text",placeholder:"Validade",value:C.validade,onChange:e=>w((0,r.A)((0,r.A)({},C),{},{validade:e.target.value})),className:"border rounded px-2 py-1 w-1/2"}),(0,n.jsx)("input",{required:!0,type:"text",placeholder:"CVV",value:C.cvv,onChange:e=>w((0,r.A)((0,r.A)({},C),{},{cvv:e.target.value})),className:"border rounded px-2 py-1 w-1/2"})]}),(0,n.jsx)("label",{className:"font-semibold mt-2",children:"Parcelas"}),(0,n.jsx)("select",{value:N,onChange:e=>y(Number(e.target.value)),className:"border rounded px-2 py-1",children:[...Array(12)].map((e,t)=>(0,n.jsxs)("option",{value:t+1,children:[t+1,"x"]},t+1))})]}),"pix"===v&&(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("label",{className:"font-semibold",children:"Dados para pagamento via Pix"}),(0,n.jsx)("input",{required:!0,type:"text",placeholder:"CPF",value:S.cpf,onChange:e=>k((0,r.A)((0,r.A)({},S),{},{cpf:e.target.value})),className:"border rounded px-2 py-1"}),(0,n.jsx)("input",{required:!0,type:"text",placeholder:"Nome completo",value:S.nome,onChange:e=>k((0,r.A)((0,r.A)({},S),{},{nome:e.target.value})),className:"border rounded px-2 py-1"})]}),v&&(0,n.jsx)("button",{type:"submit",className:"w-full bg-green-500 text-white px-6 py-3 rounded-lg font-bold shadow hover:bg-green-600 transition",children:"Confirmar Compra"}),i&&(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-xs text-center",children:[(0,n.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Finalizar compra?"}),(0,n.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,n.jsx)("button",{className:"bg-green-500 text-white px-4 py-2 rounded font-bold",type:"button",onClick:()=>{p.forEach(e=>{a({type:"purchase",productId:e.product.id,title:e.product.title,image:e.product.image,date:(new Date).toISOString(),quantity:e.quantity,price:e.product.price*e.quantity})}),f(!0),g(),d(!1),setTimeout(t,3e3)},children:"Confirmar"}),(0,n.jsx)("button",{className:"bg-gray-200 px-4 py-2 rounded font-bold",type:"button",onClick:()=>d(!1),children:"Cancelar"})]})]})})]})]})}}}]);
//# sourceMappingURL=885.97108677.chunk.js.map